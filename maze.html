<!--Â© 2024 VasekCZ230 - All rights reserved.
................................................................................................................................
................................................................................................................................
................................................................................................................................
................................................................................................................................
................................................................................................................................
................................................................................................................................
................................................................................................................................
................................................................................................................................
................................................................................................................................
................................................................................................................................
................................................................................................................................
................................................................................................................................
................................................................................................................................
................................................................................................................................
................................................................................................................................
................................................................................................................................
...................................:+*++*+-.....................................................................................
................................:+########**=:..................................................................................
...............................:+########%##*+..................................................................................
................................*%######%####+:-..:.............................................................................
................................+#####%#%%########+-............................................................................
................................=#%%%%%%%%#########=...::-=+++**+-..........-+**#**=-...........................................
..................................:*#%%%%##*#####%##*+=*****#*##**+==+=:..:=*%%####*+:..........................................
....................................:+%%**#%##%##%%##***#*****#*##*+++**+--+#########**.........................................
...............................-==++-+%%**#%%%%%%%%#***#*###*##********+*#%#%%%%%%###**+........................................
............................-+**+**#%%%%%%%%%%%%#****##*##***####**##**##%#%%%%%%%%###++....:=+**--.............................
............................+*#***######%%%#####****##*#**#**#*##***#**#*#%%%%%%%%%%#*-....:*#####+.............................
............................=**+*#*##########****#####**#***#+*#***#+******##%%%#***=:..:+=*########+...........................
............................-*#+****#***#*#*##############*#**#***#*********##%%*++++....+#########%#-..........................
............................:***#***********################************#****#%%*+=+++:..+*##%%#%####-..........................
...........................-****#*#***#**#####################******#*****#****##*+*++++-.:++**%#--:............................
..........................+#*+**#*###*########***##******########*##**##*##**####*++++****=:..*%#...............................
..........................+#***#+*###*####*******##*******#######*##**##*##*##+##*+*++**+*****#%#...............................
-:.......................-##**#****#######*****************######*****#**##*##*##******+**+++***#=..............................
=-:.......:----:.........-##**#*+*+*#*#********+*************######******#**#**##****++***+***++**+-............................
=--:.....-======-=-:....:*##**###************##******************#####*###*##***##***++***+***+**+**+-..........................
=-----...-========-:...:****++**##*#*******######*********##*****#####**##*##******+*++***+#*++*****+++-........................
------..-==========-:.+*##****+*####***#*########*********###%%%#%%###********###*++********#***+*****++*=................:*=###
=------:-==========--**##***######%%####*####**####*+****#%##%%%%########*##***##*++*++**++**+*#*****#******++-............#####
#*+-------==-======+**#*##***##%%#%%%######***+**##******#%#%%%%%%##**###*###*##**+++*+***#%%%#%#####%%%%%%##+***.......--*##%%%
###*++=--===--=====*********##%%%%%#%########*****##+*##%%%%%%%%%%%%%%###*#***##*++++*++*#%%%%%%%%##%%%%%%%%#***+......:##%##%%%
%##%%##++=-----===-***##*##%%%%%%%%%%%#%######****######%%%%%%%%%%%%%#%#####**##**+++++++##%%%%%%%%%%%%%%%%%%#*+*:.....:*##%%%%%
%%%%#####++==--=:.:*###**#%%%%%%%%%#%%#%##***+*****###*#%%%%%%%%%#%%%%######*#****++*##%#%%%%%%%%%%%%%%%%%@%%%%##+::...=##%%%%%%
%%%#######++---=:-**###**##%%%%%%@%%%%%%%###**##****##**#%%@@@@%@%%%%%##**#+******+*#%%%%%%%%%%%%%@%%%@%%%%%%%%%#++*%##%%%%%%%%%
%%%%%#######*++++************##%%@%%%%%####**##**#**##**#%%%%@@@@%@%%%%%#*#*#####*####%%%%%%@%%%%@@@@%%%%%@%%%%%%#+*%%#%%%%%%%%%
%%%%%##%##%##*****+****#*****###%%%%%#####**#**##***#**#%%@@@%@@%%%%%%####*#####**###%%@%%@@@@@@@@@@@@@@@@%%%@%%%#*#%%%%%%%*#%%%
%%%%%%%%%########*#**#**#*#####%%%%%%%%###**#***#***#*##%%@@%%%%%%%%%%######*##**##*##*#####@@@@####*#%@@@#*****##%%%%%%%%%%%%%%
%@@%%%%%%##**##**###*#***###%%%%%%%%%#%########*##**######%%%#%#%%%###*#*##*####*#####*#####@@@@####*##@@@##**+*#%%%%%%%%%%%%%%%
#@%%##*###******#****+****###%%%##########################%%##########*****######*###*####%#%@@%%@%%@%#@@@%###*##%%%%%%%%%%%%%%%
##%####%##%###***###**#####%##########*#***#**######%%##%#########*###%#######%%*##%##**##%%%%%%%%%%@@@@@@%%%%%*####%%%@@@@#%%%%
####**##*###*#*****++***###########***+***#**++*###*##%###########**############***##***##%##%%#%%#%@@@@@@@%%@@#####%@@@@@@##**#
############*######******#############***####***###***####*#######*##########*####**###*###*####*###**####%%%%#%%%#####%#*%#%%%*
******++*+**+*+=+++++++==+++==++++=+*++==++*====***===+***=****+**+****+*****+*+**++++*+*+*++*+********+######*##***++**+****##*
-==-=-===-==-=..--===--..=-=:.----.:=-=..=-=:...=-=:..:=--.--=-.--==---.-====-=.--=-..=-=:--=-:#%#*####-*###=+++=-=-:-==:===-=-=
-:-======---==:.:==-==-:.-==:.:==-::-==.:--=:..:--=:..:--::::-:.:::::--.--====-:-=--::=-=-=+===###*##**=*##*==++++=+-+=+-=-=-=-=
=========..:==-..-===-=-..=-=:.-=-=..=-=:.-==-...:--=.=###*+=-=.:=-=.:=-=.----.==--:=-=:+###*#%##*#%#**###*+=-=*################
=====-===..:==-..-=====-..-==:.:===..-=--.-####+=.---.=###*+=--.:---..---..:...:::..=-=-+###*####*#%%**####****######*##########
++++=+****+++***+++****+++++*+****+*********#*#++*********###******###*******#####**%%%%%%%%%%%%%%#%%%%%#%%%%%%%%%%%%%%%%%%%%%%%
####**####**#####*#####*#####*####**####*#####*####*#####*########*########*######*#%%%%#%%%##%%%%#%%#%###%%%#%%%##%%%%%%%%%%%%%
####***###***####*####***####**###**####**####****#*****############*#*#####****################%########################%##%###
#####%%%######%#%%###%%%###%%%######%#%%%%%%#%###%#%%######%%%%%#%%%%###%%%%%%%%%%%%#%%%%#%%%%#%%%%%####################**#*####
#####%%########%%%###%%%###%%%#####%%%#%%%%%%%###%%%%######%%%%%%%%%%%##%%%%%%%%%%%###%%%%%%%%#%%%%%%%%%##%%%%%%%%%#%%%%%%%%###%
#####%%%#############################################################################################%%%%%%%#%#%%%%%%%%###%%%#%%
################################%######%%#%##################%#%%%%%%%%%%%%%%%######%#%#########################################
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%####%%%%%%%%%%%#%#%%#%########
%%%%%%%#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%##%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#%%%%%%%%%%%%%%%%%###%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%#%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%###%%%%%%%%%%%%%%%%%%%#%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@%%@%%%%%%%%%%%%%%@@%%%@%%%%%%%%%%%%%%%%@@%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%@%%@%%%%%%%
-->
<!DOCTYPE html>
<html>
<head>
  <title>VasekCZ230 - 3DMaze</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <link rel="icon" href="../img/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="../css/style.css?v=2.3.0">
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      background-color: black;
    }
  </style>
</head>
<body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<script>
  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
  const renderer = new THREE.WebGLRenderer();
  renderer.setSize(window.innerWidth, window.innerHeight);
  document.body.appendChild(renderer.domElement);

  const ambientLight = new THREE.AmbientLight(0xffffff, 1);
  scene.add(ambientLight);

  const maze = [
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 3, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 2, 1, 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 0, 1, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 4, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0], 
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  ];

  const cubeSize =10;
  const wallObjects = [];
  const flatObjects = [];
  const loader = new THREE.TextureLoader();

  maze.forEach((row, z) => {
    row.forEach((cell, x) => {
      let geometry, material;
      switch (cell) {
        case 1:
          geometry = new THREE.BoxGeometry(cubeSize, cubeSize, cubeSize);
          material = new THREE.MeshLambertMaterial({ map: loader.load('../img/maze/wall.png') });
          const wall = new THREE.Mesh(geometry, material);
          wall.position.set(x * cubeSize, cubeSize / 2, z * cubeSize);
          wallObjects.push(wall);
          scene.add(wall);
          break;
        case 2:
          geometry = new THREE.PlaneGeometry(cubeSize, cubeSize);
          material = new THREE.MeshLambertMaterial({ map: loader.load('../img/maze/start.png'), side: THREE.DoubleSide, transparent: true, opacity: 0.75 });
          const flatObject2 = new THREE.Mesh(geometry, material);
          flatObject2.position.set(x * cubeSize, cubeSize / 2, z * cubeSize);
          flatObjects.push(flatObject2);
          scene.add(flatObject2);
          break;
		case 3:
          geometry = new THREE.PlaneGeometry(cubeSize, cubeSize);
          material = new THREE.MeshLambertMaterial({ map: loader.load('../img/maze/text1.png'), side: THREE.DoubleSide, transparent: true});
          const flatObject3 = new THREE.Mesh(geometry, material);
          flatObject3.position.set(x * cubeSize, cubeSize / 2, z * cubeSize);
          flatObjects.push(flatObject3);
          scene.add(flatObject3);
          break;
        case 4:
          geometry = new THREE.PlaneGeometry(cubeSize, cubeSize);
          material = new THREE.MeshLambertMaterial({ map: loader.load('../img/maze/smiley.png'), side: THREE.DoubleSide, transparent: true});
          const flatObject4 = new THREE.Mesh(geometry, material);
          flatObject4.position.set(x * cubeSize, cubeSize / 2, z * cubeSize);
          flatObjects.push(flatObject4);
          scene.add(flatObject4);
          break;
        default:
          return;
      }
    });
  });

const floorGeometry = new THREE.PlaneGeometry(cubeSize * maze[0].length, cubeSize * maze.length);
const floorMaterial = new THREE.MeshLambertMaterial({ 
    map: loader.load('../img/maze/floor.png'),
    side: THREE.DoubleSide 
});
floorMaterial.map.wrapS = THREE.RepeatWrapping;
floorMaterial.map.wrapT = THREE.RepeatWrapping;
floorMaterial.map.repeat.set(maze[0].length, maze.length);
const floor = new THREE.Mesh(floorGeometry, floorMaterial);
floor.rotation.x = -Math.PI / 2;
floor.position.y = 0;
scene.add(floor);

const ceilingGeometry = new THREE.PlaneGeometry(cubeSize * maze[0].length, cubeSize * maze.length);
const ceilingMaterial = new THREE.MeshLambertMaterial({ 
    map: loader.load('../img/maze/ceiling.png'),
    side: THREE.DoubleSide 
});
ceilingMaterial.map.wrapS = THREE.RepeatWrapping;
ceilingMaterial.map.wrapT = THREE.RepeatWrapping;
ceilingMaterial.map.repeat.set(maze[0].length, maze.length);
const ceiling = new THREE.Mesh(ceilingGeometry, ceilingMaterial);
ceiling.rotation.x = Math.PI / 2;
ceiling.position.y = cubeSize;
scene.add(ceiling);

  camera.position.set(cubeSize, cubeSize / 2, cubeSize);
  camera.lookAt(2, cubeSize / 2, 0);

  const moveSpeed = 5;
  const rotationSpeed = 0.5;
  const keys = {};

  let interactionChecked = false;

  function checkCollision(newPosition) {
    const collisionMargin = 1;
    for (const wall of wallObjects) {
      const dist = wall.position.distanceTo(newPosition);
      if (dist < cubeSize / 2 + collisionMargin) {
        return wall;
      }
    }
    return null;
  }

let hasRedirected = false;

function checkFlatObjectInteraction() {
    const playerPosition = camera.position.clone();

    flatObjects.forEach((obj) => {
        if (obj.material.map.image.src.includes('smiley.png')) {
            const dist = playerPosition.distanceTo(obj.position);
            if (dist < 5 && !hasRedirected) {
                window.location.href="https://www.yout-ube.com/watch?v=dQw4w9WgXcQ";
                hasRedirected=true;
            }
        }
    });
}
  
  function animate() {
    requestAnimationFrame(animate);

    const deltaTime = 0.1;

    const forward = new THREE.Vector3(
      Math.sin(camera.rotation.y) * moveSpeed * deltaTime,
      0,
      Math.cos(camera.rotation.y) * moveSpeed * deltaTime
    );

    if (keys['ArrowUp']) {
      const newPosition = camera.position.clone().sub(forward);
      const collision = checkCollision(newPosition);
      if (!collision) {
        camera.position.copy(newPosition);
      } else {
        handleSlide(collision);
      }
    }

    if (keys['ArrowDown']) {
      const newPosition = camera.position.clone().add(forward);
      const collision = checkCollision(newPosition);
      if (!collision) {
        camera.position.copy(newPosition);
      } else {
        handleSlide(collision);
      }
    }

    if (keys['ArrowLeft']) {
      camera.rotation.y += rotationSpeed * deltaTime;
    }
    if (keys['ArrowRight']) {
      camera.rotation.y -= rotationSpeed * deltaTime;
    }

    if (!interactionChecked) {
      checkFlatObjectInteraction();
    }

    flatObjects.forEach(obj => {
      obj.rotation.y = camera.rotation.y;
    });

    renderer.render(scene, camera);
  }

  document.addEventListener('keydown', (event) => {
    keys[event.key] = true;
  });

  document.addEventListener('keyup', (event) => {
    keys[event.key] = false;
  });

  window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
  });

  animate();
</script>
</body>
</html>
